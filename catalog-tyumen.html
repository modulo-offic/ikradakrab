<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>–ö—É–ø–∏—Ç—å –∫—Ä–∞—Å–Ω—É—é –∏–∫—Ä—É, –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã –∏ –∫—Ä–∞–±–æ–≤ –≤ –¢—é–º–µ–Ω–∏ ‚Äî IkraDaKrab</title>
<meta name="description" content="–ö–∞—Ç–∞–ª–æ–≥ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –¢—é–º–µ–Ω–∏: –∫—Ä–∞—Å–Ω–∞—è –∏–∫—Ä–∞ –æ—Ç 2 400 ‚ÇΩ, –∫–∞–º—á–∞—Ç—Å–∫–∏–π –∫—Ä–∞–±, –∫—Ä–µ–≤–µ—Ç–∫–∏, —Ä—ã–±–∞, –º–æ–ª–ª—é—Å–∫–∏. –î–æ—Å—Ç–∞–≤–∫–∞ –∏ —Å–∞–º–æ–≤—ã–≤–æ–∑."/>
<meta property="og:title" content="–ö–∞—Ç–∞–ª–æ–≥ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –¢—é–º–µ–Ω—å ‚Äî IkraDaKrab"/>
<meta property="og:type" content="website"/>
<link rel="canonical" href="https://ikradakrab.ru/catalog-tyumen.html"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

<style>
:root{--bg0:#070A0E;--bg1:#0B0F14;--bg2:#0F1722;--card:rgba(255,255,255,.05);--stroke:rgba(255,255,255,.10);--stroke2:rgba(255,255,255,.16);--text:#EAF0F8;--muted:rgba(234,240,248,.70);--muted2:rgba(234,240,248,.50);--accent:#E53954;--accent2:#FF7A90;--good:#48E0A5;--warn:#F5A623;--shadow:0 20px 56px rgba(0,0,0,.55);--r:18px;--r2:22px;--ease:cubic-bezier(.2,.9,.2,1);--hh:64px}
*{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;color:var(--text);-webkit-font-smoothing:antialiased;overflow-x:hidden;background:radial-gradient(1100px 500px at 20% -5%,rgba(229,57,84,.20),transparent 55%),radial-gradient(800px 500px at 90% 0%,rgba(106,217,255,.12),transparent 55%),radial-gradient(900px 600px at 40% 110%,rgba(72,224,165,.09),transparent 55%),linear-gradient(180deg,var(--bg0),var(--bg1) 40%,var(--bg0))}
a{color:inherit;text-decoration:none}
img{display:block;max-width:100%}
button{font-family:inherit;cursor:pointer}
.container{max-width:1280px;margin:0 auto;padding:0 16px}

/* –®–ê–ü–ö–ê */
.topbar{position:sticky;top:0;z-index:50;height:var(--hh);background:rgba(7,10,14,.88);border-bottom:1px solid var(--stroke);backdrop-filter:blur(14px);-webkit-backdrop-filter:blur(14px)}
.topbar__inner{max-width:1280px;margin:0 auto;padding:0 16px;height:100%;display:flex;align-items:center;gap:12px;flex-wrap:nowrap;overflow:hidden}
.brand{display:flex;align-items:center;gap:10px;flex-shrink:0;text-decoration:none}
.brand__mark{width:34px;height:34px;border-radius:10px;flex-shrink:0;background:radial-gradient(12px 12px at 30% 30%,rgba(255,255,255,.55),transparent 45%),linear-gradient(135deg,rgba(229,57,84,.95),rgba(255,122,144,.35));box-shadow:0 12px 32px rgba(229,57,84,.28);border:1px solid rgba(255,255,255,.12)}
.brand__name{font-weight:800;font-size:16px;letter-spacing:-.02em;white-space:nowrap;color:var(--text)}
.brand__tag{font-size:11px;color:var(--muted2);white-space:nowrap}
.nav{display:flex;align-items:center;gap:2px;flex-shrink:0}
.nav a{font-size:13px;font-weight:600;color:var(--muted);padding:7px 10px;border-radius:999px;white-space:nowrap;transition:all .2s}
.nav a:hover{background:rgba(255,255,255,.06);color:var(--text)}
.nav a.active{background:rgba(229,57,84,.14);border:1px solid rgba(229,57,84,.22);color:var(--text)}
.topbar__right{display:flex;align-items:center;gap:8px;margin-left:auto;flex-shrink:0}
.phone{font-size:13px;font-weight:700;color:var(--text);white-space:nowrap;padding:8px 12px;border-radius:999px;border:1px solid var(--stroke);background:rgba(255,255,255,.04);transition:all .18s}
.phone:hover{background:rgba(255,255,255,.07);border-color:var(--stroke2)}
.soc{font-size:12px;font-weight:700;color:var(--muted);padding:8px 10px;border-radius:999px;border:1px solid transparent;transition:all .18s;white-space:nowrap}
.soc:hover{background:rgba(255,255,255,.05);color:var(--text);border-color:var(--stroke)}
.cartbtn{display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border-radius:999px;border:1px solid var(--stroke);background:rgba(255,255,255,.04);color:var(--text);font-size:13px;font-weight:700;transition:all .18s;white-space:nowrap}
.cartbtn:hover{background:rgba(255,255,255,.07);border-color:var(--stroke2)}
.cartbtn__count{min-width:20px;height:20px;padding:0 5px;border-radius:999px;background:rgba(229,57,84,.20);border:1px solid rgba(229,57,84,.35);font-size:11px;font-weight:800;display:grid;place-items:center}
.citypick{position:relative}
.citypick__btn{display:flex;align-items:center;gap:6px;padding:7px 11px;border-radius:999px;border:1px solid var(--stroke);background:rgba(255,255,255,.04);color:var(--text);font-size:12px;font-weight:700;cursor:pointer;transition:all .18s;white-space:nowrap}
.citypick__btn:hover{background:rgba(255,255,255,.07)}
.citypick__arr{width:8px;height:8px;border-right:2px solid var(--muted);border-bottom:2px solid var(--muted);transform:rotate(45deg)}
.citypick__drop{position:absolute;right:0;top:calc(100% + 8px);background:rgba(10,14,20,.96);border:1px solid var(--stroke2);border-radius:var(--r);padding:6px;min-width:180px;box-shadow:var(--shadow);backdrop-filter:blur(14px);display:none}
.citypick__drop.open{display:block}
.citypick__opt{display:block;width:100%;text-align:left;padding:10px 12px;border-radius:12px;border:0;background:transparent;color:var(--text);font-size:13px;font-weight:600;cursor:pointer;transition:background .15s}
.citypick__opt:hover{background:rgba(255,255,255,.06)}
.citypick__opt.cur{color:var(--accent2)}
.burger{display:none;width:40px;height:40px;border-radius:12px;border:1px solid var(--stroke);background:rgba(255,255,255,.04);flex-direction:column;justify-content:center;align-items:center;gap:5px}
.burger span{display:block;width:20px;height:2px;background:var(--text);border-radius:2px;transition:all .2s}
.burger.open span:nth-child(1){transform:translateY(7px) rotate(45deg)}
.burger.open span:nth-child(2){opacity:0}
.burger.open span:nth-child(3){transform:translateY(-7px) rotate(-45deg)}
.mnav{display:none;position:fixed;inset:0;top:var(--hh);z-index:49;background:rgba(0,0,0,.5)}
.mnav.open{display:block}
.mnav__sheet{background:rgba(9,13,18,.97);border-bottom:1px solid var(--stroke);padding:12px 16px 20px;display:flex;flex-direction:column;gap:6px}
.mnav__link{display:block;padding:12px 14px;border-radius:14px;border:1px solid var(--stroke);background:rgba(255,255,255,.04);font-weight:700;color:var(--text);font-size:15px}
.mnav__group{display:flex;gap:8px;flex-wrap:wrap}
.mnav__sub{flex:1;min-width:120px;padding:10px 12px;border-radius:12px;background:rgba(255,255,255,.04);border:1px solid var(--stroke);font-size:13px;font-weight:600;text-align:center;display:block}

/* MOB FILTER BAR */
.mob-filter-bar{display:none;position:sticky;top:var(--hh);z-index:40;background:rgba(7,10,14,.92);border-bottom:1px solid var(--stroke);backdrop-filter:blur(12px);padding:10px 16px;gap:8px;align-items:center}
.mob-search{flex:1;padding:10px 14px;border-radius:999px;border:1px solid var(--stroke);background:rgba(255,255,255,.06);color:var(--text);font-size:14px;font-family:inherit;outline:none}
.mob-search::placeholder{color:var(--muted2)}
.mob-filter-btn{display:flex;align-items:center;gap:6px;padding:10px 14px;border-radius:999px;border:1px solid var(--stroke);background:rgba(255,255,255,.05);color:var(--text);font-size:13px;font-weight:700;flex-shrink:0;white-space:nowrap}
.filter-sheet-overlay{display:none;position:fixed;inset:0;z-index:80;background:rgba(0,0,0,.55);backdrop-filter:blur(4px)}
.filter-sheet-overlay.open{display:block}
.filter-sheet{position:fixed;bottom:0;left:0;right:0;z-index:81;background:rgba(9,13,18,.98);border-top:1px solid var(--stroke2);border-radius:22px 22px 0 0;padding:0 16px 32px;max-height:85vh;overflow-y:auto;transform:translateY(100%);transition:transform .28s var(--ease)}
.filter-sheet-overlay.open .filter-sheet{transform:translateY(0)}
.filter-sheet__handle{width:36px;height:4px;border-radius:2px;background:rgba(255,255,255,.25);margin:12px auto 20px}
.filter-sheet__title{font-size:17px;font-weight:800;margin-bottom:16px}
.fs-section{margin-bottom:20px}
.fs-section h3{font-size:12px;font-weight:800;color:var(--muted2);letter-spacing:.08em;text-transform:uppercase;margin-bottom:10px}
.fs-tags{display:flex;flex-wrap:wrap;gap:8px}
.fs-tag{padding:9px 16px;border-radius:999px;border:1px solid var(--stroke);background:rgba(255,255,255,.04);font-size:14px;font-weight:700;color:var(--muted);cursor:pointer}
.fs-tag.active{background:rgba(229,57,84,.14);border-color:rgba(229,57,84,.28);color:var(--text)}
.fs-range{display:flex;gap:8px;align-items:center}
.fs-input{flex:1;padding:11px 12px;border-radius:12px;border:1px solid var(--stroke);background:rgba(255,255,255,.06);color:var(--text);font-size:14px;font-family:inherit;font-weight:600;outline:none}
.fs-input::placeholder{color:var(--muted2)}
.fs-range-sep{color:var(--muted2);font-size:14px}
.fs-check{display:flex;align-items:center;gap:10px;padding:12px 14px;border-radius:14px;border:1px solid var(--stroke);background:rgba(255,255,255,.04);cursor:pointer;user-select:none}
.fs-check input{accent-color:var(--accent);width:18px;height:18px}
.fs-check span{font-size:14px;font-weight:700}
.fs-sort{display:flex;flex-direction:column;gap:8px}
.fs-sort-opt{padding:11px 14px;border-radius:12px;border:1px solid var(--stroke);background:transparent;font-size:14px;font-weight:700;color:var(--muted);cursor:pointer;text-align:left;transition:all .15s}
.fs-sort-opt.active{background:rgba(229,57,84,.12);border-color:rgba(229,57,84,.25);color:var(--text)}
.fs-actions{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:20px}
.btn-primary,.btn-ghost{padding:14px;border-radius:14px;font-size:15px;font-weight:800;text-align:center;cursor:pointer;border:0;transition:all .18s}
.btn-primary{background:linear-gradient(135deg,var(--accent),var(--accent2));color:#fff;box-shadow:0 12px 28px rgba(229,57,84,.30)}
.btn-primary:hover{filter:brightness(1.06)}
.btn-ghost{background:rgba(255,255,255,.06);border:1px solid var(--stroke);color:var(--text)}
.btn-ghost:hover{background:rgba(255,255,255,.09)}

/* PAGE HEAD */
.page-head{padding:28px 0 18px}
.page-head h1{font-size:clamp(22px,3.5vw,40px);font-weight:800;letter-spacing:-.02em;line-height:1.1;margin-bottom:8px}
.page-head p{font-size:15px;color:var(--muted);max-width:60ch}

/* –§–ò–õ–¨–¢–†–´ –î–ï–°–ö–¢–û–ü */
.filters-bar{padding:12px;border:1px solid var(--stroke);border-radius:var(--r2);background:rgba(255,255,255,.03);display:flex;flex-wrap:wrap;align-items:center;gap:10px;margin-bottom:16px}
.fgroup{display:flex;align-items:center;gap:7px}
.fgroup label{font-size:12px;font-weight:700;color:var(--muted2);white-space:nowrap}
.finput,.fselect{padding:9px 12px;border-radius:12px;border:1px solid var(--stroke);background:rgba(0,0,0,.18);color:var(--text);font-size:13px;font-family:inherit;font-weight:600;outline:none;transition:border-color .18s}
.finput:focus,.fselect:focus{border-color:var(--stroke2)}
.finput::placeholder{color:var(--muted2)}
.finput.search{min-width:200px}
.fcheckbox{display:flex;align-items:center;gap:7px;cursor:pointer;user-select:none}
.fcheckbox input{accent-color:var(--accent);width:16px;height:16px}
.fcheckbox span{font-size:13px;font-weight:600;color:var(--muted)}
.fresult{margin-left:auto;font-size:13px;font-weight:700;color:var(--muted2);white-space:nowrap}
.fclr{padding:8px 14px;border-radius:999px;border:1px solid var(--stroke);background:transparent;color:var(--muted);font-size:12px;font-weight:700;cursor:pointer;transition:all .18s}
.fclr:hover{background:rgba(255,255,255,.06);color:var(--text)}
.cattags{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:16px}
.cattag{padding:8px 14px;border-radius:999px;border:1px solid var(--stroke);background:rgba(255,255,255,.04);font-size:13px;font-weight:700;color:var(--muted);cursor:pointer;transition:all .18s}
.cattag:hover{background:rgba(255,255,255,.07);color:var(--text);border-color:var(--stroke2)}
.cattag.active{background:rgba(229,57,84,.14);border-color:rgba(229,57,84,.28);color:var(--text)}

/* –°–ï–¢–ö–ê –¢–û–í–ê–†–û–í */
.products-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:14px}
.pcard{border:1px solid var(--stroke);background:rgba(255,255,255,.03);border-radius:var(--r2);overflow:hidden;display:flex;flex-direction:column;transition:transform .2s,border-color .2s}
.pcard:hover{transform:translateY(-2px);border-color:var(--stroke2)}
.pcard__img{height:160px;position:relative;overflow:hidden;background:var(--bg1);flex-shrink:0}
.pcard__img img{width:100%;height:100%;object-fit:cover;transition:transform .3s}
.pcard:hover .pcard__img img{transform:scale(1.04)}
.pcard__img-ph{width:100%;height:100%;background:radial-gradient(260px 120px at 35% 30%,rgba(229,57,84,.22),transparent 60%),linear-gradient(135deg,rgba(255,255,255,.05),rgba(0,0,0,.08));display:flex;align-items:center;justify-content:center;font-size:40px}
.pcard__badge{position:absolute;top:10px;left:10px;padding:5px 10px;border-radius:999px;font-size:11px;font-weight:800;letter-spacing:.04em}
.pcard__badge--sale{background:rgba(229,57,84,.90);color:#fff}
.pcard__badge--new{background:rgba(72,224,165,.88);color:#070A0E}
.pcard__body{padding:12px 14px;flex:1;display:flex;flex-direction:column;gap:4px}
.pcard__cat{font-size:11px;font-weight:800;color:var(--muted2);letter-spacing:.06em;text-transform:uppercase}
.pcard__name{font-size:15px;font-weight:800;line-height:1.25;color:var(--text)}
.pcard__weight{font-size:12px;color:var(--muted);margin-top:2px}
.pcard__stocks{margin-top:8px;display:flex;flex-direction:column;gap:3px}
.stock-row{display:flex;align-items:center;justify-content:space-between;padding:5px 8px;border-radius:8px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08)}
.stock-row__name{font-size:11px;color:var(--muted2);font-weight:600}
.stock-row__qty{font-size:11px;font-weight:800}
.stock-row__qty.in{color:var(--good)}
.stock-row__qty.low{color:var(--warn)}
.stock-row__qty.out{color:rgba(229,57,84,.8)}
.pcard__foot{padding:0 14px 14px;display:flex;align-items:center;justify-content:space-between;gap:10px}
.pcard__price{display:flex;flex-direction:column;gap:1px}
.price__old{font-size:12px;color:var(--muted2);text-decoration:line-through}
.price__main{font-size:18px;font-weight:900;letter-spacing:-.02em}
.price__unit{font-size:11px;color:var(--muted2);font-weight:600}
.add-btn{display:inline-flex;align-items:center;gap:6px;padding:10px 14px;border-radius:12px;background:rgba(229,57,84,.14);border:1px solid rgba(229,57,84,.25);color:var(--text);font-size:13px;font-weight:800;transition:all .18s;flex-shrink:0;white-space:nowrap}
.add-btn:hover{background:rgba(229,57,84,.22);border-color:rgba(229,57,84,.38)}
.add-btn.in-cart{background:rgba(72,224,165,.12);border-color:rgba(72,224,165,.25)}
.out-badge{font-size:12px;color:var(--muted2);font-weight:700}
.empty{grid-column:1/-1;padding:60px 20px;text-align:center;border:1px dashed var(--stroke);border-radius:var(--r2)}
.empty h3{font-size:20px;font-weight:700;margin-bottom:8px}
.empty p{color:var(--muted)}
.skeleton{border:1px solid var(--stroke);background:rgba(255,255,255,.03);border-radius:var(--r2);overflow:hidden;animation:pulse 1.5s ease-in-out infinite}
.skeleton__img{height:160px;background:rgba(255,255,255,.06)}
.skeleton__body{padding:14px;display:flex;flex-direction:column;gap:8px}
.skeleton__line{height:12px;border-radius:6px;background:rgba(255,255,255,.06)}
.skeleton__line.w60{width:60%}
.skeleton__line.w80{width:80%}
.skeleton__line.w40{width:40%}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.6}}

/* –ö–û–†–ó–ò–ù–ê */
.cart-overlay{display:none;position:fixed;inset:0;z-index:70;background:rgba(0,0,0,.5);backdrop-filter:blur(4px)}
.cart-overlay.open{display:block}
.cart-drawer{position:fixed;top:0;right:0;height:100%;width:min(420px,96vw);z-index:71;background:rgba(9,13,18,.97);border-left:1px solid var(--stroke);box-shadow:-24px 0 60px rgba(0,0,0,.55);transform:translateX(110%);transition:transform .26s;display:flex;flex-direction:column}
.cart-overlay.open .cart-drawer{transform:translateX(0)}
.cart-head{padding:16px 18px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--stroke)}
.cart-head h2{font-size:16px;font-weight:800}
.cart-close{width:36px;height:36px;border-radius:10px;border:1px solid var(--stroke);background:rgba(255,255,255,.05);color:var(--text);font-size:18px;display:grid;place-items:center;cursor:pointer}
.cart-body{flex:1;overflow-y:auto;padding:14px 18px;display:flex;flex-direction:column;gap:10px}
.cart-empty{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;color:var(--muted);text-align:center;padding:40px}
.cart-empty span{font-size:40px}
.cart-item{display:grid;grid-template-columns:60px 1fr auto;gap:12px;align-items:start;padding:12px;border-radius:14px;border:1px solid var(--stroke);background:rgba(255,255,255,.04)}
.ci-img{width:60px;height:60px;border-radius:10px;object-fit:cover;background:rgba(255,255,255,.06);display:flex;align-items:center;justify-content:center;font-size:24px;flex-shrink:0}
.ci-name{font-size:14px;font-weight:700;line-height:1.3}
.ci-price{font-size:13px;color:var(--muted);margin-top:3px}
.ci-del{width:28px;height:28px;border-radius:8px;border:1px solid var(--stroke);background:rgba(255,255,255,.04);color:var(--muted);font-size:16px;display:grid;place-items:center;cursor:pointer;transition:all .18s;flex-shrink:0}
.ci-del:hover{background:rgba(229,57,84,.14);color:var(--accent2);border-color:rgba(229,57,84,.25)}
.ci-qty{display:flex;align-items:center;gap:6px;margin-top:8px}
.qty-btn{width:28px;height:28px;border-radius:8px;border:1px solid var(--stroke);background:rgba(255,255,255,.05);color:var(--text);font-size:16px;display:grid;place-items:center;cursor:pointer}
.qty-val{min-width:24px;text-align:center;font-size:14px;font-weight:800}
.cart-foot{padding:14px 18px;border-top:1px solid var(--stroke);display:flex;flex-direction:column;gap:10px}
.cart-total{display:flex;justify-content:space-between;align-items:center}
.cart-total span{color:var(--muted);font-size:14px}
.cart-total strong{font-size:20px;font-weight:900}
.cart-checkout{display:block;padding:14px;border-radius:14px;text-align:center;background:linear-gradient(135deg,var(--accent),var(--accent2));color:#fff;font-size:15px;font-weight:800;box-shadow:0 12px 28px rgba(229,57,84,.28);transition:filter .18s}
.cart-checkout:hover{filter:brightness(1.06)}
.cart-cont{display:block;padding:12px;border-radius:14px;text-align:center;background:rgba(255,255,255,.05);border:1px solid var(--stroke);color:var(--muted);font-size:14px;font-weight:700;cursor:pointer}

/* –§–£–¢–ï–† */
.footer{margin-top:60px;border-top:1px solid var(--stroke);background:rgba(0,0,0,.18);padding:28px 0 20px}
.footer__grid{display:grid;grid-template-columns:1.5fr 1fr 1fr;gap:20px;margin-bottom:20px}
.footer__brand{font-size:17px;font-weight:900;margin-bottom:6px}
.footer__title{font-size:11px;font-weight:800;color:var(--muted2);text-transform:uppercase;letter-spacing:.08em;margin-bottom:10px}
.footer__link{display:block;font-size:13px;font-weight:600;color:var(--muted);padding:5px 0;transition:color .15s}
.footer__link:hover{color:var(--text)}
.footer__muted{font-size:12px;color:var(--muted2);line-height:1.6}
.footer__bottom{display:flex;justify-content:space-between;align-items:center;padding-top:16px;border-top:1px solid rgba(255,255,255,.06);font-size:12px;color:var(--muted2)}
.soc-links{display:flex;gap:8px;margin-top:12px}

/* –ê–î–ê–ü–¢–ò–í */
@media(max-width:900px){.nav{display:none}.phone,.topbar__soc{display:none}.burger{display:flex}.brand__tag{display:none}}
@media(max-width:680px){.filters-bar{display:none}.cattags{display:none}.mob-filter-bar{display:flex}.products-grid{grid-template-columns:repeat(2,1fr);gap:10px}.pcard__img{height:130px}.pcard__name{font-size:13px}.price__main{font-size:15px}.pcard__stocks{display:none}.add-btn span{display:none}.footer__grid{grid-template-columns:1fr;gap:16px}}
@media(max-width:380px){.products-grid{grid-template-columns:1fr}}
</style>

</head>
<body>

<header class="topbar">
  <div class="topbar__inner">
    <a class="brand" href="index.html">
      <span class="brand__mark" aria-hidden="true"></span>
      <span>
        <div class="brand__name">IkraDaKrab</div>
        <div class="brand__tag">–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã –ø—Ä–µ–º–∏—É–º‚Äë–∫–ª–∞—Å—Å–∞</div>
      </span>
    </a>
    <nav class="nav">
      <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
      <a href="action.html">–ê–∫—Ü–∏–∏</a>
      <a href="catalog-tyumen.html" class="active">–ö–∞—Ç–∞–ª–æ–≥</a>
      <a href="recipes.html">–†–µ—Ü–µ–ø—Ç—ã</a>
      
    </nav>
    <div class="topbar__right">
      <div class="citypick">
        <button class="citypick__btn" id="cityBtn">üìç –¢—é–º–µ–Ω—å <span class="citypick__arr"></span></button>
        <div class="citypick__drop" id="cityDrop">
          <button class="citypick__optcur" onclick="switchCity('tyumen','–¢—é–º–µ–Ω—å','catalog-tyumen.html')">–¢—é–º–µ–Ω—å</button>
          <button class="citypick__opt" onclick="switchCity('nu','–ù–æ–≤—ã–π –£—Ä–µ–Ω–≥–æ–π','catalog-nu.html')">–ù–æ–≤—ã–π –£—Ä–µ–Ω–≥–æ–π</button>
          <button class="citypick__opt" onclick="switchCity('nadym','–ù–∞–¥—ã–º','catalog-nadym.html')">–ù–∞–¥—ã–º</button>
        </div>
      </div>
      <a class="phone" href="tel:+79923116970">+7 (992) 311-69-70</a>
      <div class="topbar__soc">
        <a class="soc" href="https://t.me/ikraDAkrab" target="_blank">Telegram</a>
        <a class="soc" href="https://vk.com/ikradacrab" target="_blank">VK</a>
      </div>
      <button class="cartbtn" id="cartOpenBtn">üõí –ö–æ—Ä–∑–∏–Ω–∞ <span class="cartbtn__count" id="cartCount">0</span></button>
      <button class="burger" id="burgerBtn" aria-label="–ú–µ–Ω—é"><span></span><span></span><span></span></button>
    </div>
  </div>
</header>

<div class="mnav" id="mnav">
  <div class="mnav__sheet">
    <a class="mnav__link" href="index.html">üè† –ì–ª–∞–≤–Ω–∞—è</a>
    <a class="mnav__link" href="action.html">üî• –ê–∫—Ü–∏–∏</a>
    <a class="mnav__link" href="catalog-tyumen.html" style="background:rgba(229,57,84,.10);border-color:rgba(229,57,84,.20)">üõí –ö–∞—Ç–∞–ª–æ–≥</a>
    <a class="mnav__link" href="recipes.html">üë®‚Äçüç≥ –†–µ—Ü–µ–ø—Ç—ã</a>
    <div class="mnav__group">
      <a class="mnav__sub" href="catalog-tyumen.html">–¢—é–º–µ–Ω—å</a>
      <a class="mnav__sub" href="catalog-nu.html">–ù–æ–≤—ã–π –£—Ä–µ–Ω–≥–æ–π</a>
      <a class="mnav__sub" href="catalog-nadym.html">–ù–∞–¥—ã–º</a>
    </div>
    <a class="mnav__link" href="tel:+79923116970">üìû +7 (992) 311-69-70</a>
  </div>
</div>

<div class="mob-filter-bar" id="mobFilterBar">
  <input class="mob-search" type="search" placeholder="üîç –ò–∫—Ä–∞, –∫—Ä–∞–±, —Ä—ã–±–∞..." id="mobSearch">
  <button class="mob-filter-btn" id="mobFilterBtn">‚öôÔ∏è –§–∏–ª—å—Ç—Ä</button>
</div>

<div class="filter-sheet-overlay" id="filterOverlay">
  <div class="filter-sheet">
    <div class="filter-sheet__handle"></div>
    <div class="filter-sheet__title">–§–∏–ª—å—Ç—Ä—ã</div>
    <div class="fs-section">
      <h3>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</h3>
      <div class="fs-tags">
        <button class="fs-tag active" data-fscat="">–í—Å–µ</button>
        <button class="fs-tag" data-fscat="caviar">ü´ß –ò–∫—Ä–∞</button>
        <button class="fs-tag" data-fscat="crabs">ü¶Ä –ö—Ä–∞–±—ã</button>
        <button class="fs-tag" data-fscat="shrimp">üç§ –ö—Ä–µ–≤–µ—Ç–∫–∏</button>
        <button class="fs-tag" data-fscat="fish">üêü –†—ã–±–∞</button>
        <button class="fs-tag" data-fscat="shell">üêö –ú–æ–ª–ª—é—Å–∫–∏</button>
        <button class="fs-tag" data-fscat="smoked">üî• –ö–æ–ø—á—ë–Ω–∞—è</button>
        <button class="fs-tag" data-fscat="semi">üç± –ü–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç—ã</button>
      </div>
    </div>
    <div class="fs-section">
      <h3>–¶–µ–Ω–∞, ‚ÇΩ</h3>
      <div class="fs-range">
        <input class="fs-input" type="number" id="fsPriceMin" placeholder="–û—Ç" inputmode="numeric">
        <span class="fs-range-sep">‚Äî</span>
        <input class="fs-input" type="number" id="fsPriceMax" placeholder="–î–æ" inputmode="numeric">
      </div>
    </div>
    <div class="fs-section">
      <h3>–ù–∞–ª–∏—á–∏–µ</h3>
      <label class="fs-check"><input type="checkbox" id="fsStock"><span>–¢–æ–ª—å–∫–æ –≤ –Ω–∞–ª–∏—á–∏–∏</span></label>
    </div>
    <div class="fs-section">
      <h3>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</h3>
      <div class="fs-sort">
        <button class="fs-sort-opt active" data-sort="default">–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é</button>
        <button class="fs-sort-opt" data-sort="price_asc">–¶–µ–Ω–∞: –¥–µ—à–µ–≤–ª–µ</button>
        <button class="fs-sort-opt" data-sort="price_desc">–¶–µ–Ω–∞: –¥–æ—Ä–æ–∂–µ</button>
        <button class="fs-sort-opt" data-sort="name_asc">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é –ê‚Äë–Ø</button>
      </div>
    </div>
    <div class="fs-actions">
      <button class="btn-ghost" id="fsReset">–°–±—Ä–æ—Å–∏—Ç—å</button>
      <button class="btn-primary" id="fsApply">–ü–æ–∫–∞–∑–∞—Ç—å</button>
    </div>
  </div>
</div>

<main>
  <div class="container">
    <div class="page-head">
      <h1>–ú–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã –∏ –∏–∫—Ä–∞ –≤ –¢—é–º–µ–Ω–∏</h1>
      <p>–°–≤–µ–∂–∏–µ –ø–æ—Å—Ç–∞–≤–∫–∏ —Å –ö–∞–º—á–∞—Ç–∫–∏, –°–∞—Ö–∞–ª–∏–Ω–∞ –∏ –ù–æ—Ä–≤–µ–≥–∏–∏. –°–∞–º–æ–≤—ã–≤–æ–∑ –∏–ª–∏ –¥–æ—Å—Ç–∞–≤–∫–∞. –†–µ–∞–ª—å–Ω–æ–µ –Ω–∞–ª–∏—á–∏–µ.</p>
    </div>
    <div class="filters-bar">
      <div class="fgroup"><label>üîç</label><input class="finput search" type="search" id="searchInput" placeholder="–ò–∫—Ä–∞, –∫—Ä–∞–±, –ª–æ—Å–æ—Å—å..."></div>
      <div class="fgroup"><label>–†–∞–∑–¥–µ–ª</label><select class="fselect" id="catSelect"><option value="">–í—Å–µ</option><option value="caviar">–ò–∫—Ä–∞</option><option value="crabs">–ö—Ä–∞–±—ã</option><option value="shrimp">–ö—Ä–µ–≤–µ—Ç–∫–∏</option><option value="fish">–†—ã–±–∞</option><option value="shell">–ú–æ–ª–ª—é—Å–∫–∏</option><option value="smoked">–ö–æ–ø—á—ë–Ω–∞—è</option><option value="semi">–ü–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç—ã</option></select></div>
      <div class="fgroup"><label>–û—Ç ‚ÇΩ</label><input class="finput" type="number" id="priceMin" placeholder="0" style="width:80px" inputmode="numeric"></div>
      <div class="fgroup"><label>–î–æ ‚ÇΩ</label><input class="finput" type="number" id="priceMax" placeholder="‚àû" style="width:80px" inputmode="numeric"></div>
      <div class="fgroup"><label class="fcheckbox"><input type="checkbox" id="inStockOnly"><span>–í –Ω–∞–ª–∏—á–∏–∏</span></label></div>
      <div class="fgroup"><label>–°–æ—Ä—Ç.</label><select class="fselect" id="sortSelect"><option value="default">–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é</option><option value="price_asc">–¶–µ–Ω–∞ ‚Üë</option><option value="price_desc">–¶–µ–Ω–∞ ‚Üì</option><option value="name_asc">–ê‚Äë–Ø</option></select></div>
      <button class="fclr" id="clearFilters">‚úï –°–±—Ä–æ—Å</button>
      <span class="fresult">–ù–∞–π–¥–µ–Ω–æ: <b id="resultCount">0</b></span>
    </div>
    <div class="cattags" id="catTags">
      <button class="cattag active" data-cat="">–í—Å–µ —Ç–æ–≤–∞—Ä—ã</button>
      <button class="cattag" data-cat="caviar">ü´ß –ò–∫—Ä–∞</button>
      <button class="cattag" data-cat="crabs">ü¶Ä –ö—Ä–∞–±—ã</button>
      <button class="cattag" data-cat="shrimp">üç§ –ö—Ä–µ–≤–µ—Ç–∫–∏</button>
      <button class="cattag" data-cat="fish">üêü –†—ã–±–∞</button>
      <button class="cattag" data-cat="shell">üêö –ú–æ–ª–ª—é—Å–∫–∏</button>
      <button class="cattag" data-cat="smoked">üî• –ö–æ–ø—á—ë–Ω–∞—è</button>
      <button class="cattag" data-cat="semi">üç± –ü–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç—ã</button>
    </div>
    <div class="products-grid" id="productsGrid"></div>
  </div>
</main>

<footer class="footer">
  <div class="container">
    <div class="footer__grid">
      <div>
        <div class="footer__brand">IkraDaKrab</div>
        <p class="footer__muted">–ú–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã –ø—Ä–µ–º–∏—É–º‚Äë–∫–ª–∞—Å—Å–∞. –ü—Ä—è–º—ã–µ –ø–æ—Å—Ç–∞–≤–∫–∏ —Å –ö–∞–º—á–∞—Ç–∫–∏, –°–∞—Ö–∞–ª–∏–Ω–∞ –∏ –ù–æ—Ä–≤–µ–≥–∏–∏.</p>
        <div class="soc-links">
          <a class="footer__link" href="https://t.me/ikraDAkrab" target="_blank">Telegram</a>
          <a class="footer__link" href="https://vk.com/ikradacrab" target="_blank">VK</a>
        </div>
      </div>
      <div>
        <div class="footer__title">–ù–∞–≤–∏–≥–∞—Ü–∏—è</div>
        <a class="footer__link" href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
        <a class="footer__link" href="action.html">–ê–∫—Ü–∏–∏</a>
        <a class="footer__link" href="recipes.html">–†–µ—Ü–µ–ø—Ç—ã</a>
        <a class="footer__link" href="catalog-tyumen.html">–ö–∞—Ç–∞–ª–æ–≥ ‚Äî –¢—é–º–µ–Ω—å</a>
        <a class="footer__link" href="catalog-nu.html">–ö–∞—Ç–∞–ª–æ–≥ ‚Äî –ù–æ–≤—ã–π –£—Ä–µ–Ω–≥–æ–π</a>
        <a class="footer__link" href="catalog-nadym.html">–ö–∞—Ç–∞–ª–æ–≥ ‚Äî –ù–∞–¥—ã–º</a>
      </div>
      <div>
        <div class="footer__title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</div>
        <a class="footer__link" href="tel:+79923116970">+7 (992) 311-69-70</a>
        <p class="footer__muted" style="margin-top:8px">üìç –¢—é–º–µ–Ω—å<br>üìç –ù–æ–≤—ã–π –£—Ä–µ–Ω–≥–æ–π<br>üìç –ù–∞–¥—ã–º</p>
      </div>
    </div>
    <div class="footer__bottom">
      <span>¬© 2026 IkraDaKrab</span>
      <a class="footer__link" href="#" onclick="scrollTo({top:0,behavior:'smooth'});return false">‚Üë –ù–∞–≤–µ—Ä—Ö</a>
    </div>
  </div>
</footer>

<div class="cart-overlay" id="cartOverlay">
  <div class="cart-drawer" id="cartDrawer">
    <div class="cart-head"><h2>–ö–æ—Ä–∑–∏–Ω–∞</h2><button class="cart-close" id="cartCloseBtn">‚úï</button></div>
    <div class="cart-body" id="cartBody"><div class="cart-empty"><span>üõí</span><p>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p></div></div>
    <div class="cart-foot" id="cartFoot" style="display:none">
      <div class="cart-total"><span>–ò—Ç–æ–≥–æ</span><strong id="cartTotal">0 ‚ÇΩ</strong></div>
      <a class="cart-checkout" href="checkout.html">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ ‚Üí</a>
      <button class="cart-cont" id="cartContinue">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∫—É–ø–∫–∏</button>
    </div>
  </div>
</div>


<script>
const CONFIG = {city:'tyumen',cityName:'–¢—é–º–µ–Ω—å',warehouses:["–¢—é–º–µ–Ω—å-–¶–µ–Ω—Ç—Ä", "–¢—é–º–µ–Ω—å-–°–µ–≤–µ—Ä"],apiMode:'demo',jsonUrl:'products-tyumen.json',apiUrl:'api/saby-proxy.php'};
const PRODUCTS = [{"id": "cav-01", "name": "–ò–∫—Ä–∞ –≥–æ—Ä–±—É—à–∏ –ö–∞–º—á–∞—Ç—Å–∫–∞—è", "category": "caviar", "weight": "500 –≥", "price": 2400, "priceOld": 2800, "unit": "—à—Ç.", "emoji": "ü´ß", "badge": "sale", "stocks": [{"warehouse": "–¢—é–º–µ–Ω—å-–¶–µ–Ω—Ç—Ä", "qty": 18}, {"warehouse": "–¢—é–º–µ–Ω—å-–°–µ–≤–µ—Ä", "qty": 7}], "inStock": true}, {"id": "cav-02", "name": "–ò–∫—Ä–∞ –∫–µ—Ç—ã ¬´–û—Ç–±–æ—Ä–Ω–∞—è¬ª", "category": "caviar", "weight": "500 –≥", "price": 2800, "priceOld": null, "unit": "—à—Ç.", "emoji": "ü´ß", "badge": null, "stocks": [{"warehouse": "–¢—é–º–µ–Ω—å-–¶–µ–Ω—Ç—Ä", "qty": 9}, {"warehouse": "–¢—é–º–µ–Ω—å-–°–µ–≤–µ—Ä", "qty": 0}], "inStock": true}, {"id": "cav-03", "name": "–ò–∫—Ä–∞ –Ω–µ—Ä–∫–∏ –ø—Ä–µ–º–∏—É–º", "category": "caviar", "weight": "500 –≥", "price": 3200, "priceOld": null, "unit": "—à—Ç.", "emoji": "ü´ß", "badge": "new", "stocks": [{"warehouse": "–¢—é–º–µ–Ω—å-–¶–µ–Ω—Ç—Ä", "qty": 4}, {"warehouse": "–¢—é–º–µ–Ω—å-–°–µ–≤–µ—Ä", "qty": 3}], "inStock": true}, {"id": "cav-05", "name": "–ò–∫—Ä–∞ –æ—Å–µ—Ç—Ä–æ–≤–∞—è —á—ë—Ä–Ω–∞—è", "category": "caviar", "weight": "100 –≥", "price": 9750, "priceOld": 15000, "unit": "—à—Ç.", "emoji": "üñ§", "badge": "sale", "stocks": [{"warehouse": "–¢—é–º–µ–Ω—å-–¶–µ–Ω—Ç—Ä", "qty": 5}, {"warehouse": "–¢—é–º–µ–Ω—å-–°–µ–≤–µ—Ä", "qty": 1}], "inStock": true}, {"id": "cr-01", "name": "–ö—Ä–∞–± –∫–∞–º—á–∞—Ç—Å–∫–∏–π –≤–∞—Ä—ë–Ω–æ-–º–æ—Ä–æ–∂–µ–Ω—ã–π", "category": "crabs", "weight": "1 –∫–≥", "price": 5950, "priceOld": 8500, "unit": "–∫–≥", "emoji": "ü¶Ä", "badge": "sale", "stocks": [{"warehouse": "–¢—é–º–µ–Ω—å-–¶–µ–Ω—Ç—Ä", "qty": 6}, {"warehouse": "–¢—é–º–µ–Ω—å-–°–µ–≤–µ—Ä", "qty": 2}], "inStock": true}, {"id": "cr-02", "name": "–§–∞–ª–∞–Ω–≥–∞ –∫—Ä–∞–±–∞ –∫—Ä—É–ø–Ω–∞—è", "category": "crabs", "weight": "500 –≥", "price": 3200, "priceOld": null, "unit": "—à—Ç.", "emoji": "ü¶Ä", "badge": null, "stocks": [{"warehouse": "–¢—é–º–µ–Ω—å-–¶–µ–Ω—Ç—Ä", "qty": 11}, {"warehouse": "–¢—é–º–µ–Ω—å-–°–µ–≤–µ—Ä", "qty": 4}], "inStock": true}, {"id": "cr-03", "name": "–ö—Ä–∞–± —Å–∏–Ω–∏–π Blue King Crab", "category": "crabs", "weight": "1 –∫–≥", "price": 6800, "priceOld": null, "unit": "–∫–≥", "emoji": "ü¶Ä", "badge": "new", "stocks": [{"warehouse": "–¢—é–º–µ–Ω—å-–¶–µ–Ω—Ç—Ä", "qty": 3}, {"warehouse": "–¢—é–º–µ–Ω—å-–°–µ–≤–µ—Ä", "qty": 0}], "inStock": true}, {"id": "sh-01", "name": "–ö—Ä–µ–≤–µ—Ç–∫–∏ —Ç–∏–≥—Ä–æ–≤—ã–µ", "category": "shrimp", "weight": "500 –≥", "price": 2000, "priceOld": 2500, "unit": "—à—Ç.", "emoji": "üç§", "badge": "sale", "stocks": [{"warehouse": "–¢—é–º–µ–Ω—å-–¶–µ–Ω—Ç—Ä", "qty": 20}, {"warehouse": "–¢—é–º–µ–Ω—å-–°–µ–≤–µ—Ä", "qty": 8}], "inStock": true}, {"id": "sh-02", "name": "–ö—Ä–µ–≤–µ—Ç–∫–∏ Royal Premium", "category": "shrimp", "weight": "500 –≥", "price": 2200, "priceOld": null, "unit": "—à—Ç.", "emoji": "üç§", "badge": null, "stocks": [{"warehouse": "–¢—é–º–µ–Ω—å-–¶–µ–Ω—Ç—Ä", "qty": 14}, {"warehouse": "–¢—é–º–µ–Ω—å-–°–µ–≤–µ—Ä", "qty": 6}], "inStock": true}, {"id": "fi-01", "name": "–°—Ç–µ–π–∫ –ª–æ—Å–æ—Å—è –Ω–æ—Ä–≤–µ–∂—Å–∫–æ–≥–æ", "category": "fish", "weight": "1 –∫–≥", "price": 1440, "priceOld": 1800, "unit": "–∫–≥", "emoji": "üêü", "badge": "sale", "stocks": [{"warehouse": "–¢—é–º–µ–Ω—å-–¶–µ–Ω—Ç—Ä", "qty": 25}, {"warehouse": "–¢—é–º–µ–Ω—å-–°–µ–≤–µ—Ä", "qty": 10}], "inStock": true}, {"id": "fi-02", "name": "–°—ë–º–≥–∞ –∞—Ç–ª–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ª–æ—Å–æ—Å—å", "category": "fish", "weight": "1 –∫–≥", "price": 1600, "priceOld": null, "unit": "–∫–≥", "emoji": "üêü", "badge": null, "stocks": [{"warehouse": "–¢—é–º–µ–Ω—å-–¶–µ–Ω—Ç—Ä", "qty": 18}, {"warehouse": "–¢—é–º–µ–Ω—å-–°–µ–≤–µ—Ä", "qty": 7}], "inStock": true}, {"id": "fi-03", "name": "–ü–∞–ª—Ç—É—Å –±–µ–ª–æ–∫–æ—Ä—ã–π", "category": "fish", "weight": "1 –∫–≥", "price": 1100, "priceOld": null, "unit": "–∫–≥", "emoji": "üê†", "badge": null, "stocks": [{"warehouse": "–¢—é–º–µ–Ω—å-–¶–µ–Ω—Ç—Ä", "qty": 8}, {"warehouse": "–¢—é–º–µ–Ω—å-–°–µ–≤–µ—Ä", "qty": 3}], "inStock": true}, {"id": "fi-04", "name": "–ú–∏–Ω—Ç–∞–π –ø–æ—Ç—Ä–æ—à—ë–Ω—ã–π –±/–≥", "category": "fish", "weight": "1 –∫–≥", "price": 380, "priceOld": null, "unit": "–∫–≥", "emoji": "üêü", "badge": null, "stocks": [{"warehouse": "–¢—é–º–µ–Ω—å-–¶–µ–Ω—Ç—Ä", "qty": 0}, {"warehouse": "–¢—é–º–µ–Ω—å-–°–µ–≤–µ—Ä", "qty": 0}], "inStock": false}, {"id": "mo-01", "name": "–ú–∏–¥–∏–∏ –≤ —Å—Ç–≤–æ—Ä–∫–µ", "category": "shell", "weight": "1 –∫–≥", "price": 1020, "priceOld": 1200, "unit": "–∫–≥", "emoji": "üêö", "badge": "sale", "stocks": [{"warehouse": "–¢—é–º–µ–Ω—å-–¶–µ–Ω—Ç—Ä", "qty": 30}, {"warehouse": "–¢—é–º–µ–Ω—å-–°–µ–≤–µ—Ä", "qty": 15}], "inStock": true}, {"id": "mo-02", "name": "–ì—Ä–µ–±–µ—à–æ–∫ —Å–∞—Ö–∞–ª–∏–Ω—Å–∫–∏–π", "category": "shell", "weight": "500 –≥", "price": 1800, "priceOld": null, "unit": "—à—Ç.", "emoji": "üêö", "badge": null, "stocks": [{"warehouse": "–¢—é–º–µ–Ω—å-–¶–µ–Ω—Ç—Ä", "qty": 7}, {"warehouse": "–¢—é–º–µ–Ω—å-–°–µ–≤–µ—Ä", "qty": 2}], "inStock": true}, {"id": "sm-01", "name": "–°–∫—É–º–±—Ä–∏—è –≥–æ—Ä—è—á–µ–≥–æ –∫–æ–ø—á–µ–Ω–∏—è", "category": "smoked", "weight": "1 —à—Ç.", "price": 280, "priceOld": null, "unit": "—à—Ç.", "emoji": "üî•", "badge": null, "stocks": [{"warehouse": "–¢—é–º–µ–Ω—å-–¶–µ–Ω—Ç—Ä", "qty": 45}, {"warehouse": "–¢—é–º–µ–Ω—å-–°–µ–≤–µ—Ä", "qty": 20}], "inStock": true}, {"id": "sm-02", "name": "–õ–æ—Å–æ—Å—å —Å–ª–∞–±–æ—Å–æ–ª—ë–Ω—ã–π –≤–∞–∫—É—É–º", "category": "smoked", "weight": "200 –≥", "price": 540, "priceOld": null, "unit": "—à—Ç.", "emoji": "üî•", "badge": "new", "stocks": [{"warehouse": "–¢—é–º–µ–Ω—å-–¶–µ–Ω—Ç—Ä", "qty": 22}, {"warehouse": "–¢—é–º–µ–Ω—å-–°–µ–≤–µ—Ä", "qty": 9}], "inStock": true}, {"id": "semi-01", "name": "–†–æ–ª–ª—ã –∏–∑ –ª–æ—Å–æ—Å—è 8 —à—Ç.", "category": "semi", "weight": "280 –≥", "price": 490, "priceOld": null, "unit": "—à—Ç.", "emoji": "üç±", "badge": null, "stocks": [{"warehouse": "–¢—é–º–µ–Ω—å-–¶–µ–Ω—Ç—Ä", "qty": 15}, {"warehouse": "–¢—é–º–µ–Ω—å-–°–µ–≤–µ—Ä", "qty": 0}], "inStock": true}, {"id": "semi-02", "name": "–®–∞—à–ª—ã–∫ –∏–∑ —Ä—ã–±—ã –Ω–∞ —à–ø–∞–∂–∫–∞—Ö", "category": "semi", "weight": "400 –≥", "price": 620, "priceOld": null, "unit": "—à—Ç.", "emoji": "üç±", "badge": "new", "stocks": [{"warehouse": "–¢—é–º–µ–Ω—å-–¶–µ–Ω—Ç—Ä", "qty": 8}, {"warehouse": "–¢—é–º–µ–Ω—å-–°–µ–≤–µ—Ä", "qty": 4}], "inStock": true}];
let allProducts = [],cart = JSON.parse(localStorage.getItem('cart_'+CONFIG.city)||'[]');
let filters = {q:'',cat:'',priceMin:'',priceMax:'',sort:'default',inStock:false};

function catLabel(c){return{caviar:'–ò–∫—Ä–∞',crabs:'–ö—Ä–∞–±—ã',shrimp:'–ö—Ä–µ–≤–µ—Ç–∫–∏',fish:'–†—ã–±–∞',shell:'–ú–æ–ª–ª—é—Å–∫–∏',smoked:'–ö–æ–ø—á—ë–Ω–∞—è',semi:'–ü–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç—ã'}[c]||c}

async function loadProducts(){
  renderSkeletons();
  try{
    if(CONFIG.apiMode==='demo'){await new Promise(r=>setTimeout(r,200));allProducts=PRODUCTS;}
    else if(CONFIG.apiMode==='json'){const r=await fetch(CONFIG.jsonUrl);allProducts=await r.json();}
    else{const r=await fetch(CONFIG.apiUrl+'?city='+CONFIG.city);const d=await r.json();allProducts=d.products||d;}
  }catch(e){allProducts=PRODUCTS;}
  renderProducts();
}

function renderSkeletons(){
  document.getElementById('productsGrid').innerHTML=Array(8).fill('<div class="skeleton"><div class="skeleton__img"></div><div class="skeleton__body"><div class="skeleton__line w40"></div><div class="skeleton__line w80"></div><div class="skeleton__line w60"></div></div></div>').join('');
}

function renderProducts(){
  const f = filters;
  let items = allProducts.filter(p => {
    if (f.q && !p.name.toLowerCase().includes(f.q.toLowerCase())) return false;
    if (f.cat && p.category !== f.cat) return false;
    if (f.priceMin && p.price < +f.priceMin) return false;
    if (f.priceMax && p.price > +f.priceMax) return false;
    if (f.inStock && !p.inStock) return false;
    return true;
  });

  // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
  if (f.sort === 'price_asc') items.sort((a, b) => a.price - b.price);
  else if (f.sort === 'price_desc') items.sort((a, b) => b.price - a.price);
  else if (f.sort === 'name_asc') items.sort((a, b) => a.name.localeCompare(b.name, 'ru'));

  document.getElementById('resultCount').textContent = items.length;
  const grid = document.getElementById('productsGrid');
  
  if (!items.length) {
    grid.innerHTML = '<div class="empty"><h3>–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</h3><p>–ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–æ–≤</p></div>';
    return;
  }

  // –†–µ–Ω–¥–µ—Ä–∏–º –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤
  grid.innerHTML = items.map(p => cardHTML(p)).join('');
  grid.querySelectorAll('[data-add]').forEach(btn => btn.addEventListener('click', () => addToCart(btn.dataset.add)));
}

function cardHTML(p) {
  const ic = cart.find(c => c.id === p.id);
  
  // –§–æ—Ä–º–∏—Ä—É–µ–º —Å–ø–∏—Å–æ–∫ —Å–∫–ª–∞–¥–æ–≤ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º
  const stocks = (p.stocks || []).map(s => {
    const cl = s.qty > 5 ? 'in' : s.qty > 0 ? 'low' : 'out';
    return `<div class="stock-row">
              <span class="stock-row__name">${s.warehouse}</span>
              <span class="stock-row__qty ${cl}">${s.qty > 0 ? s.qty + ' —à—Ç.' : '–ù–µ—Ç'}</span>
            </div>`;
  }).join('');

  const img = p.image ? `<img src="${p.image}" alt="${p.name}" loading="lazy">` : `<div class="pcard__img-ph">${p.emoji || 'üêü'}</div>`;
  const badge = p.badge ? `<span class="pcard__badge pcard__badge--${p.badge}">${p.badge === 'sale' ? '–°–∫–∏–¥–∫–∞' : '–ù–æ–≤–∏–Ω–∫–∞'}</span>` : '';
  const oldP = p.priceOld ? `<span class="price__old">${p.priceOld.toLocaleString('ru')} ‚ÇΩ</span>` : '';

  return `
    <div class="pcard" data-id="${p.id}">
      <div class="pcard__img">${img}${badge}</div>
      <div class="pcard__body">
        <div class="pcard__cat">${catLabel(p.category)}</div>
        <div class="pcard__name">${p.name}</div>
        <div class="pcard__weight">${p.weight}</div>
        <div class="pcard__stocks">${stocks}</div>
      </div>
      <div class="pcard__foot">
        <div class="pcard__price">${oldP}<span class="price__main">${p.price.toLocaleString('ru')} ‚ÇΩ</span><span class="price__unit">/ ${p.unit}</span></div>
        ${p.inStock ? `<button class="add-btn${ic ? ' in-cart' : ''}" data-add="${p.id}"><span>${ic ? '‚úì –í –∫–æ—Ä–∑–∏–Ω–µ' : '+ –ö—É–ø–∏—Ç—å'}</span></button>` : '<span class="out-badge">–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏</span>'}
      </div>
    </div>`;
}

function syncFilters(){renderProducts();const h=filters.cat||filters.priceMin||filters.priceMax||filters.inStock;document.getElementById('mobFilterBtn').classList.toggle('has-filters',!!h);}
function resetFilters(){filters={q:'',cat:'',priceMin:'',priceMax:'',sort:'default',inStock:false};['searchInput','priceMin','priceMax'].forEach(id=>{const el=document.getElementById(id);if(el)el.value='';});['fsPriceMin','fsPriceMax'].forEach(id=>{const el=document.getElementById(id);if(el)el.value='';});const si=document.getElementById('inStockOnly');if(si)si.checked=false;const fi=document.getElementById('fsStock');if(fi)fi.checked=false;const ss=document.getElementById('sortSelect');if(ss)ss.value='default';document.querySelectorAll('.fs-sort-opt').forEach(b=>b.classList.toggle('active',b.dataset.sort==='default'));updateCatTags('');syncFilters();}
function updateCatTags(cat){document.querySelectorAll('.cattag,.fs-tag').forEach(t=>t.classList.toggle('active',(t.dataset.cat??t.dataset.fscat)===cat));}

document.getElementById('searchInput').addEventListener('input',e=>{filters.q=e.target.value;syncFilters();});
document.getElementById('catSelect').addEventListener('change',e=>{filters.cat=e.target.value;updateCatTags(e.target.value);syncFilters();});
document.getElementById('priceMin').addEventListener('input',e=>{filters.priceMin=e.target.value;syncFilters();});
document.getElementById('priceMax').addEventListener('input',e=>{filters.priceMax=e.target.value;syncFilters();});
document.getElementById('inStockOnly').addEventListener('change',e=>{filters.inStock=e.target.checked;syncFilters();});
document.getElementById('sortSelect').addEventListener('change',e=>{filters.sort=e.target.value;syncFilters();});
document.getElementById('clearFilters').addEventListener('click',resetFilters);
document.querySelectorAll('.cattag').forEach(t=>t.addEventListener('click',()=>{filters.cat=t.dataset.cat;document.getElementById('catSelect').value=filters.cat;updateCatTags(filters.cat);syncFilters();}));

document.getElementById('mobSearch').addEventListener('input',e=>{filters.q=e.target.value;document.getElementById('searchInput').value=e.target.value;syncFilters();});
document.getElementById('mobFilterBtn').addEventListener('click',()=>{document.getElementById('filterOverlay').classList.add('open');document.body.style.overflow='hidden';});
document.getElementById('filterOverlay').addEventListener('click',e=>{if(e.target===document.getElementById('filterOverlay'))closeFS();});
document.getElementById('fsApply').addEventListener('click',()=>{filters.priceMin=document.getElementById('fsPriceMin').value;filters.priceMax=document.getElementById('fsPriceMax').value;filters.inStock=document.getElementById('fsStock').checked;closeFS();syncFilters();});
document.getElementById('fsReset').addEventListener('click',()=>{resetFilters();closeFS();});
function closeFS(){document.getElementById('filterOverlay').classList.remove('open');document.body.style.overflow='';}
document.querySelectorAll('.fs-sort-opt').forEach(b=>b.addEventListener('click',()=>{document.querySelectorAll('.fs-sort-opt').forEach(x=>x.classList.remove('active'));b.classList.add('active');filters.sort=b.dataset.sort;document.getElementById('sortSelect').value=filters.sort;}));
document.querySelectorAll('.fs-tag').forEach(t=>t.addEventListener('click',()=>{filters.cat=t.dataset.fscat;document.getElementById('catSelect').value=filters.cat;updateCatTags(filters.cat);}));

function addToCart(id){const p=allProducts.find(x=>x.id===id);if(!p)return;const e=cart.find(c=>c.id===id);if(e)e.qty++;else cart.push({id,name:p.name,price:p.price,image:p.image||null,emoji:p.emoji||'üì¶',weight:p.weight,qty:1});saveCart();renderProducts();renderCart();openCart();}
function removeFromCart(id){cart=cart.filter(c=>c.id!==id);saveCart();renderCart();renderProducts();}
function changeQty(id,d){const i=cart.find(c=>c.id===id);if(!i)return;i.qty=Math.max(1,i.qty+d);saveCart();renderCart();}
function saveCart(){localStorage.setItem('cart_'+CONFIG.city,JSON.stringify(cart));document.getElementById('cartCount').textContent=cart.reduce((s,c)=>s+c.qty,0);}
function openCart(){document.getElementById('cartOverlay').classList.add('open');document.body.style.overflow='hidden';}
function closeCart(){document.getElementById('cartOverlay').classList.remove('open');document.body.style.overflow='';}
function renderCart(){
  const body=document.getElementById('cartBody'),foot=document.getElementById('cartFoot');
  if(!cart.length){body.innerHTML='<div class="cart-empty"><span>üõí</span><p>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p></div>';foot.style.display='none';return;}
  const total=cart.reduce((s,c)=>s+c.price*c.qty,0);
  body.innerHTML=cart.map(c=>'<div class="cart-item"><div class="ci-img">'+( c.image?'<img src="'+c.image+'" alt="'+c.name+'" style="width:100%;height:100%;object-fit:cover;border-radius:10px">':c.emoji)+'</div><div><div class="ci-name">'+c.name+'</div><div class="ci-price">'+c.weight+' ¬∑ '+(c.price*c.qty).toLocaleString('ru')+' ‚ÇΩ</div><div class="ci-qty"><button class="qty-btn" onclick="changeQty(''+c.id+'',-1)">‚àí</button><span class="qty-val">'+c.qty+'</span><button class="qty-btn" onclick="changeQty(''+c.id+'',+1)">+</button></div></div><button class="ci-del" onclick="removeFromCart(''+c.id+'')">‚úï</button></div>').join('');
  document.getElementById('cartTotal').textContent=total.toLocaleString('ru')+' ‚ÇΩ';foot.style.display='flex';
}

document.getElementById('cartOpenBtn').addEventListener('click',()=>{renderCart();openCart();});
document.getElementById('cartCloseBtn').addEventListener('click',closeCart);
document.getElementById('cartContinue').addEventListener('click',closeCart);
document.getElementById('cartOverlay').addEventListener('click',e=>{if(e.target===document.getElementById('cartOverlay'))closeCart();});
document.getElementById('burgerBtn').addEventListener('click',()=>{document.getElementById('burgerBtn').classList.toggle('open');document.getElementById('mnav').classList.toggle('open');});
document.getElementById('mnav').addEventListener('click',e=>{if(e.target===document.getElementById('mnav')){document.getElementById('burgerBtn').classList.remove('open');document.getElementById('mnav').classList.remove('open');}});
document.getElementById('cityBtn').addEventListener('click',()=>document.getElementById('cityDrop').classList.toggle('open'));
document.addEventListener('click',e=>{if(!e.target.closest('.citypick'))document.getElementById('cityDrop').classList.remove('open');});
function switchCity(city,name,url){localStorage.setItem('selectedCity',city);window.location.href=url;}

document.addEventListener('DOMContentLoaded',()=>{saveCart();loadProducts();});
</script>

</body>
</html>